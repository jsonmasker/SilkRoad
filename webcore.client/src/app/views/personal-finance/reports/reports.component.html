<div class="row mb-4">
  <div class="col-sm-6 col-xl-3">
    <c-widget-stat-a color="primary" [title]="'Users'">
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        26K
        <span class="fw-normal" style="font-size: 12px;">
          (-12.4% <svg cIcon name="cilArrowBottom" size="sm"></svg>)
        </span>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="data[0]" [options]="options[0]" class="mt-3 mx-3" height="70" [type]="'line'"></c-chart>
      </ng-template>
    </c-widget-stat-a>
  </div>
  <div class="col-sm-6 col-xl-3">
    <c-widget-stat-a [title]="'Income'" color="info">
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        <span>$6.200</span>
        <span class="fw-normal" style="font-size: 12px;">
          (40.9%<svg cIcon name="cilArrowTop" size="sm"></svg>)
        </span>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="data[1]" [options]="options[1]" class="mt-3 mx-3" height="70" type="line"></c-chart>
      </ng-template>
    </c-widget-stat-a>
  </div>
  <div class="col-sm-6 col-xl-3">
    <c-widget-stat-a [title]="'Conversion Rate'" color="warning">
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        <span>2.49</span>
        <span class="fw-normal" style="font-size: 12px;">
          (84.7% <svg cIcon name="cilArrowTop" size="sm"></svg>)
        </span>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="data[2]" [options]="options[2]" class="mt-3" height="70" type="line"></c-chart>
      </ng-template>
    </c-widget-stat-a>
  </div>
  <div class="col-sm-6 col-xl-3">
    <c-widget-stat-a [title]="'Sessions'" color="danger">
      <ng-template cTemplateId="widgetValueTemplate" ngPreserveWhitespaces>
        <span>44K</span>
        <span class="fw-normal" style="font-size: 12px;">
          (-23.6% <svg cIcon name="cilArrowBottom" size="sm"></svg>)
        </span>
      </ng-template>
      <ng-template cTemplateId="widgetChartTemplate">
        <c-chart [data]="data[3]" [options]="options[3]" class="mt-3 mx-3" height="70" type="bar"></c-chart>
      </ng-template>
    </c-widget-stat-a>
  </div>
</div>

<c-card class="mt-4">
  <c-card-header class="bg-dark">
    <div class="d-flex justify-content-between align-items-center">
      <span class="fw-bold text-white">
        Expense Report
      </span>
      @if(reportForm.value.type === 'month') {
      <input class="form-control w-25" type="month" [(ngModel)]="selectedDate" (change)="onDateChange($event)" />
      }
      @else{
      <select class="form-select w-25" [(ngModel)]="selectedYear" cSelect (change)="onYearChange($event)">
        @for(year of years; track year) {
        <option [value]="year">{{ year }}</option>
        }
      </select>
      }
      <form [formGroup]="reportForm">
        <c-button-group aria-label="Basic radio toggle button group" role="group" class="me-2">
          <input class="btn-check" formControlName="type" type="radio" value="month" />
          <label (click)="setRadioValue('month')" cButton cFormCheckLabel variant="outline">Month</label>
          <input class="btn-check" formControlName="type" type="radio" value="year" />
          <label (click)="setRadioValue('year')" cButton cFormCheckLabel variant="outline">Year</label>
        </c-button-group>
        <button type="button" cButton class="float-end" color="primary" aria-label="Download">
          <svg cIcon name="cilCloudDownload"></svg>
        </button>
      </form>
    </div>
  </c-card-header>
  <c-card-body>
    @if(expenseReportColoums && expenseReportColoums.length > 0){
    <app-coloumn-chart [data]="expenseReportColoums" [id]="0"></app-coloumn-chart>
    }
  </c-card-body>
</c-card>

<div class="my-4 row">
  <div class="col-8">
    <c-card>
      <c-card-header class="bg-dark">
        <span class="fw-bold text-white">
          Asset Report
        </span>
      </c-card-header>
      <c-card-body>
        @if(assetReportColoums && assetReportColoums.length > 0){
        <app-coloumn-chart [data]="assetReportColoums" [id]="1"></app-coloumn-chart>
        }
      </c-card-body>
    </c-card>
  </div>
  <div class="col-4">
    <c-card>
      <c-card-header class="bg-dark">
        <span class="fw-bold text-white">
          Asset Report
        </span>
      </c-card-header>
      <c-card-body>
        @if(assetReportPie && assetReportPie.length > 0){
        <app-pie-chart [data]="assetReportPie" [id]="0"></app-pie-chart>
        }
      </c-card-body>
    </c-card>
  </div>
</div>

<c-card class="mt-4">
  <c-card-header class="bg-dark">
    <div class="d-flex justify-content-between align-items-center">
      <span class="fw-bold text-white">
        Resource Report
      </span>
      <select class="form-select w-25">
        @for(year of years; track year) {
        <option [value]="year">{{ year }}</option>
        }
      </select>
    </div>
  </c-card-header>
  <c-card-body>
    <app-clustered-column-chart [data]="resourceClusteredColumns" [series]="resourceChartSeries" [id]="1"
      categoryField="month" [showLegend]="true">
    </app-clustered-column-chart>
  </c-card-body>
</c-card>